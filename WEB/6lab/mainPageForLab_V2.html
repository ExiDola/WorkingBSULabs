<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Горизонтальное меню</title>
    <style>
        /* Стили для тела страницы */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        /* Стили для основного меню */
        #menu {
            list-style-type: none;
            margin: 0;
            padding: 0;
            background-color: #96a7f1; 
            display: flex; 
        }

         /* Стили для пунктов основного меню */
        #menu > li {
            font-size: 16px;
            display: inline-block !important; 
            white-space: nowrap; 
            margin-right: 20px;
            position: relative; 
        }

        /* Стили для активного пункта */
        #menu li:hover > a {
            background-color: #0056b3; 
            color: white;
        }

        /* Стили для подменю */
        #menu .dropdown-content {
            display: none;
            position: absolute;
            top: 0;
            left: 100%; 
            background-color: #49cfff; 
            min-width: 160px;
            box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
        }

        /* Стили для ссылок в подменю */
        #menu .dropdown-content a {
            color: #000;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }

         /* Стили для активной ссылки в подменю */
        #menu .dropdown-content a:hover {
            background-color: #0056b3; 
            color: white;
        }

         /* Очистка плавающих элементов после меню */
        #menu:after {
            content: "";
            display: table;
            clear: both;
        }
    </style>
</head>
<body>
    <ul id="menu"></ul>
    <script>
        var MenuA = [
            {
                number: '1',
                name: '1. О салоне',
                submenu: [
                    {
                        number: '1.1',
                        name: '1.1. История',
                        submenu: [
                            { number: '1.1.1', name: '1.1.1. Начало работы', url: 'http://www.av.by' },
                            { number: '1.1.2', name: '1.1.2. Достижения', url: 'http://www.av.by' }
                        ]
                    },
                    { number: '1.2', name: '1.2. Персонал', url: 'http://www.av.by' },
                    {
                        number: '1.3',
                        name: '1.3. Гарантии',
                        submenu: [
                            { number: '1.3.1', name: '1.3.1. Качество товаров', url: 'http://www.av.by' },
                            { number: '1.3.2', name: '1.3.2. Послепродажное обслуживание', url: 'http://www.av.by' },
                            { number: '1.3.3', name: '1.3.3. Возврат товаров', url: 'http://www.av.by' },
                            { number: '1.3.4', name: '1.3.4. Информация', url: 'http://www.av.by' }                
                        ]
                    }
                ]
            },
            { number: '2', name: '2. Ассортимент', url: 'http://www.av.by' },
            {
                number: '3',
                name: '3. Контакты',
                submenu: [
                    { number: '3.1', name: '3.1. Адрес и схема проезда', url: 'http://www.av.by' },
                    { number: '3.2', name: '3.2. Часы работы', url: 'http://www.av.by' }
                ]
            }
        ];

        // Функция для построения подменю
        function buildSubMenu(submenuItems) {
            var submenuList = document.createElement('ul');
            submenuList.classList.add('dropdown-content');
            submenuList.style.display = 'none'; 

            for (var i = 0; i < submenuItems.length; i++) {
                var item = submenuItems[i];
                var submenuItem = document.createElement('li');
                var submenuLink = document.createElement('a');
                submenuLink.textContent = item.name;
                submenuLink.href = item.url || '#';
                submenuItem.appendChild(submenuLink);
                submenuList.appendChild(submenuItem);

                if (item.submenu) {
                    submenuItem.classList.add('dropdown');
                    var nestedSubmenu = buildSubMenu(item.submenu);
                    submenuItem.appendChild(nestedSubmenu);
                }
            }

            return submenuList;
        }

        // Функция для построения основного меню
        function buildParentMenu(menuItems) {
            var parentMenu = document.createElement('ul');
            parentMenu.id = "menu";
            parentMenu.style.backgroundColor = "#96a7f1"; 
            parentMenu.style.display = "flex"; 

            for (var i = 0; i < menuItems.length; i++) {
                var item = menuItems[i];
                var menuItem = document.createElement('li');
                menuItem.style.fontSize = "16px"; 
                menuItem.style.display = "inline-block";
                menuItem.style.marginRight = "20px";
                menuItem.style.position = "relative";

                var menuLink = document.createElement('a');
                menuLink.textContent = item.name;
                menuLink.href = item.url || '#';
                menuItem.appendChild(menuLink);

                if (item.submenu) {
                    menuItem.classList.add('dropdown'); 
                    var submenu = buildSubMenu(item.submenu);
                    menuItem.appendChild(submenu);
                }

                parentMenu.appendChild(menuItem);
            }

            // Добавление обработчиков событий для пунктов меню первого уровня, у которых есть подменю
            var dropdownItems = parentMenu.querySelectorAll('.dropdown');
            dropdownItems.forEach(function(item) {
                item.addEventListener('mouseenter', function() {
                    var submenu = this.querySelector('.dropdown-content');
                    if (submenu) {
                        submenu.style.display = 'block';
                    }
                });

                item.addEventListener('mouseleave', function() {
                    var submenu = this.querySelector('.dropdown-content');
                    if (submenu) {
                        submenu.style.display = 'none';
                    }
                });
            });

            return parentMenu;
        }

        document.addEventListener("DOMContentLoaded", function () {
            var menuContainer = document.getElementById('menu');
            menuContainer.innerHTML = ''; 
            var builtParentMenu = buildParentMenu(MenuA);
            menuContainer.appendChild(builtParentMenu);
        });
    </script>
</body>
</html>
